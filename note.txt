//npm init
//npm i express
//npm install -g nodemon => install globally
//change it in the script , dev: nodemon index.js
 // npm run dev


 index.js
 /*
    here is the correct postion for routing

    "/"
   1. if u take /  thing at top it always execute "Iam express "
    if i change /hello , /test Also  it wont work
   2. so keep the default "/" one at the all route 
     below so it work good work for all Route
  
     "/test" & "/test/50"
    1. and one more order if u bring /test/id below the /test , that /test/50  it wont work 
    so keep /test/50 top of the /test
*/
password : 
Mala$@2499$$


express all cokkie cammands in express website
=============================================
https://expressjs.com/


mongodb password
================
mala_daisy@123
mala_daisy@2499




// i was getting error for next in connectschema in pre => resolved solution and reson
/*
  âœ… Why You Got next is not a function

In modern Mongoose (v6+), pre('save') middleware can be:

Style 1 â€” Promise / async style (recommended)

ğŸ‘‰ Do NOT use next
ğŸ‘‰ Throw error directly

ConnectionRequestModule.pre('save', function () {
  if (this.fromUserId.equals(this.toUserId)) {
    throw new Error("You cannot send connection request to yourself");
  }
});


âœ” This is correct
âœ” No next needed
âœ” Throw works properly
âœ” Cleaner

Style 2 â€” Callback style (older pattern)

Only works when Mongoose expects callback middleware:

ConnectionRequestModule.pre('save', function (next) {
  if (this.fromUserId.equals(this.toUserId)) {
    return next(new Error("You cannot send connection request to yourself"));
  }
  next();
});


But if your Mongoose version is using promise-style middleware internally â†’ next will be undefined â†’ error.

Thatâ€™s why you saw:

next is not a function âŒ

âœ… Best Fix â€” Use Throw Only (no next)

Use this version ğŸ‘‡

ConnectionRequestModule.pre('save', function () {
  if (this.fromUserId.equals(this.toUserId)) {
    throw new Error("You cannot send connection request to yourself");
  }
});


Done âœ…
*/
